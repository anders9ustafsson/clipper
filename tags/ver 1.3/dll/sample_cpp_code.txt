#include "clipper_dll.h"

//2 overlapping subject polygons ...
float sub[15] = {2, 3, 20,20, 220,20, 120,120, 3, 40,30, 220,90, 60, 180};
//1 clipping polygon ...
float clip[8] = {1, 3, 70,30, 230,30, 150,200};

DrawPolygons(bmp, sub, 0x100033FF, clLightGray32);
DrawPolygons(bmp, clip, 0x10FFFF00, clLightGray32);

int cnt = 0;
void *c = ClipperCreate();
ClipperAddPolygon(c, sub, ptSubject);
ClipperAddPolygon(c, clip, ptClip);
ClipperExecute(c, ctIntersection, &cnt);
float *solution = new float [cnt];
ClipperSolution(c, solution, cnt);
DrawPolygons(bmp, solution, 0x4066FF66, 0x8000FF00);
free (solution);
ClipperFree(c);

